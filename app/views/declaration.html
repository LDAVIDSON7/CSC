{% set currentPage ="declaration" %}
{% extends "layouts/main.html" %}

{% block pageTitle %}
  Confirm and submit – {{ serviceName }} – GOV.UK Prototype Kit
{% endblock %}

{% block beforeContent %}
  {{ govukBackLink({
    text: "Back",
    href: "javascript:window.history.back()"
  }) }}
{% endblock %}

{% block head %}
{{ super() }}
<style>
.custom-nav {
  display: flex;
  gap: 2rem;
  padding: 1rem 0 0 0;
  border-bottom: 1px solid #b1b4b6;
}

.custom-nav__item {
  padding-bottom: 0; 
  margin-bottom: -1px; 
}

.custom-nav__item a {
  text-decoration: none;
  color: #0b0c0c;
  font-size: 1.1rem;
}

.custom-nav__item--active {
  border-bottom: 4px solid #0b0c0c;
}

.custom-nav__item--active a {
  font-weight: bold;
}
</style>
{% endblock %}

{% block content %}
<div class="govuk-width-container">
  <!-- Dynamic navigation bar -->
  <div class="custom-nav">
    <div class="custom-nav__item {% if currentPage == 'navigation' %}custom-nav__item--active{% endif %}">
      <a href="/navigation">Start</a>
    </div>

    {% if journey.includes('upload-group') %}
      <div class="custom-nav__item {% if currentPage == 'upload-group' %}custom-nav__item--active{% endif %}">
        <a href="/upload-group">Group Structure</a>
      </div>
    {% endif %}

    {% if journey.includes('upload-financial') %}
      <div class="custom-nav__item {% if currentPage == 'upload-financial' %}custom-nav__item--active{% endif %}">
        <a href="/upload-financial">Financial Data</a>
      </div>
    {% endif %}

    {% if journey.includes('upload-additional') %}
      <div class="custom-nav__item {% if currentPage == 'upload-additional' %}custom-nav__item--active{% endif %}">
        <a href="/upload-additional">Additional Documents</a>
      </div>
    {% endif %}

    <div class="custom-nav__item {% if currentPage == 'declaration' %}custom-nav__item--active{% endif %}">
      <a href="/declaration">Confirm and submit</a>
    </div>
  </div>

  <br>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <h1 class="govuk-heading-l">Confirm and submit</h1>

      <form method="post" action="/confirmation" id="declaration-form">
        <div class="govuk-checkboxes">
          <div class="govuk-checkboxes__item">
            <input class="govuk-checkboxes__input" id="confirm" name="confirm" type="checkbox">
            <label class="govuk-label govuk-checkboxes__label" for="confirm">
              I confirm that the information I am providing is accurate and complete.
            </label>
          </div>
        </div>

        <br>

        <button type="submit" class="govuk-button" id="submit-button" disabled> Confirm and Submit</button>
      </form>

    </div>
  </div>
</div>

<script>
  // Enable the submit button when checkbox is checked
  const checkbox = document.getElementById('confirm')
  const submitButton = document.getElementById('submit-button')

  checkbox.addEventListener('change', function() {
    submitButton.disabled = !checkbox.checked
  })
</script>
{% endblock %}
