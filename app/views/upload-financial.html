{% set currentPage = "upload-financial" %}
{% extends "layouts/main.html" %}

{% block pageTitle %}
  Financial Model – {{ serviceName }} – GOV.UK Prototype Kit
{% endblock %}

{% block beforeContent %}
  {{ govukBackLink({
    text: "Back",
    href: "javascript:window.history.back()"
  }) }}
{% endblock %}

{% block head %}
{{ super() }}
<style>
.custom-nav {
  display: flex;
  gap: 2rem;
  padding: 1rem 0 0 0;
  border-bottom: 1px solid #b1b4b6;
}

.custom-nav__item {
  padding-bottom: 0;
  margin-bottom: -1px; /* pulls underline down */
}

.custom-nav__item a {
  text-decoration: none;
  color: #0b0c0c;
  font-size: 1.1rem;
}

.custom-nav__item--active {
  border-bottom: 4px solid #0b0c0c;
}

.custom-nav__item--active a {
  font-weight: bold;
}
</style>
{% endblock %}

{% block content %}

<div class="govuk-width-container">

  <!-- Dynamic navigation bar -->
  <div class="custom-nav">

    <!-- Always show first tab -->
    <div class="custom-nav__item {% if currentPage == 'navigation' %}custom-nav__item--active{% endif %}">
      <a href="/navigation">Navigation</a>
    </div>

    {% set journey = journey or [] %}

    <!-- Middle tabs: only show if selected -->
    {% if journey.includes('upload-group') %}
      <div class="custom-nav__item {% if currentPage == 'upload-group' %}custom-nav__item--active{% endif %}">
        <a href="/upload-group">Group Structure</a>
      </div>
    {% endif %}

    {% if journey.includes('upload-financial') %}
      <div class="custom-nav__item {% if currentPage == 'upload-financial' %}custom-nav__item--active{% endif %}">
        <a href="/upload-financial">Financial Model</a>
      </div>
    {% endif %}

    {% if journey.includes('upload-additional') %}
      <div class="custom-nav__item {% if currentPage == 'upload-additional' %}custom-nav__item--active{% endif %}">
        <a href="/upload-additional">Additional Documents</a>
      </div>
    {% endif %}

    <!-- Always show last tab -->
    <div class="custom-nav__item {% if currentPage == 'confirm-submit' %}custom-nav__item--active{% endif %}">
      <a href="/confirmation">Confirm and submit</a>
    </div>

  </div>

  <br>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <h1 class="govuk-heading-l">
        Financial Model Upload
      </h1>

      <p>
        Upload your financial statement here.
      </p>


        <div class="govuk-form-group">
  <label class="govuk-label" for="file-upload-1">
    Upload a file
  </label>
  <div
    class="govuk-drop-zone"
    data-module="govuk-file-upload">
    <input class="govuk-file-upload" id="file-upload-1" name="fileUpload1" type="file">
  </div>
</div>
   
      <form method="post" action="/upload-financial">
  <input type="hidden" name="pageSubmitted" value="true">
  {{ govukButton({ text: "Continue" }) }}
</form>

    </div>
  </div>

</div>

{% endblock %}
